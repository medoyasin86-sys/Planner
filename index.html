<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <title>MYH Luxury Planner 2026 - Master Edition</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.jsdelivr.net/npm/pdfmake@0.2.10/build/pdfmake.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/pdfmake@0.2.10/build/vfs_fonts.js"></script>
  <style>
    :root { --royal: #192a56; --gold: #b8860b; --bg: #f8f9fa; }
    body { font-family: system-ui, sans-serif; background: var(--bg); color: #2d3436; text-align: center; padding: 50px; }
    .main-card { background: white; max-width: 800px; margin: auto; padding: 40px; border-radius: 30px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); border-top: 8px solid var(--gold); }
    header h1 { color: var(--royal); margin-bottom: 10px; }
    .btn { background: var(--royal); color: gold; border: 2px solid var(--gold); padding: 15px 40px; border-radius: 50px; cursor: pointer; font-weight: bold; font-size: 18px; transition: 0.3s; margin: 10px; }
    .btn:hover { background: var(--gold); color: var(--royal); transform: scale(1.05); }
    input[type="file"] { margin: 20px 0; padding: 10px; border: 1px dashed var(--gold); border-radius: 10px; }
    .instruction { font-size: 14px; color: #636e72; margin-bottom: 20px; }
  </style>
</head>
<body>

<div class="main-card">
  <header>
    <h1>MYH Master Planner 2026</h1>
    <p>Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ Ø§Ù„Ø´Ø§Ù…Ù„ (ÙŠÙ†Ø§ÙŠØ± - ÙŠÙˆÙ„ÙŠÙˆ)</p>
  </header>

  <p class="instruction">Ø®Ø·ÙˆØ© 1: Ø§Ø±ÙØ¹ Ø®Ø· TTF (Ù…Ø«Ù„ Tajawal) Ù„Ø¶Ù…Ø§Ù† Ø¬Ù…Ø§Ù„ÙŠØ© Ø§Ù„ØªÙˆÙ‚ÙŠØ¹ ÙˆØ§Ù„Ø¹Ø±Ø¨ÙŠØ©.</p>
  <input type="file" id="fontFile" accept=".ttf" />
  
  <div style="margin-top: 20px;">
    <button class="btn" id="btnProcess">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø¨Ù„Ø§Ù†Ø± Ø§Ù„ÙƒØ§Ù…Ù„ (ÙŠÙ†Ø§ÙŠØ± - ÙŠÙˆÙ„ÙŠÙˆ) ğŸ“¥</button>
  </div>
  <p id="status" style="margin-top:15px; font-weight:bold;"></p>
</div>

<script>
    const COLORS = { royal: "#192a56", gold: "#b8860b", silk: "#f4f4f4", lines: "#d1d1d1" };
    let fontBase64 = "";

    document.getElementById('fontFile').onchange = function(e) {
        const reader = new FileReader();
        reader.onload = function() {
            fontBase64 = reader.result.split(',')[1];
            document.getElementById('status').innerText = "âœ… ØªÙ… ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø®Ø· Ø¨Ù†Ø¬Ø§Ø­";
        };
        reader.readAsDataURL(e.target.files[0]);
    };

    function createDailyPage(dateObj) {
        const dateStr = dateObj.toLocaleDateString('ar-OM', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' });
        const idStr = dateObj.toISOString().split('T')[0];
        
        return {
            id: `day-${idStr}`,
            padding: [30, 30, 30, 30],
            stack: [
                {
                    columns: [
                        { text: "Mr. Mo. Yasin", style: 'signature', color: COLORS.gold, width: '*' },
                        { text: dateStr, style: 'dateStyle', width: '*' },
                        { text: "Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ÙÙ‡Ø±Ø³", linkToDestination: 'main-index', style: 'backLink', width: 80 }
                    ]
                },
                { canvas: [{ type: 'line', x1: 0, y1: 5, x2: 500, y2: 5, lineWidth: 1, lineColor: COLORS.gold }] },
                {
                    margin: [0, 20, 0, 0],
                    columns: [
                        // Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠÙ…Ù†: Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­ØµØµ (Ø¨Ø¯ÙˆÙ† Ø£Ø±Ù‚Ø§Ù…)
                        {
                            width: '35%',
                            stack: [
                                { text: "Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ", style: 'secTitle' },
                                {
                                    table: {
                                        widths: ['*'],
                                        body: [
                                            [{text: '07:35 - 08:15', style: 'timeSlot'}],
                                            [{text: '08:20 - 09:00', style: 'timeSlot'}],
                                            [{text: '09:05 - 09:45', style: 'timeSlot'}],
                                            [{text: '09:50 - 10:30', style: 'timeSlot'}],
                                            [{text: 'Ø§Ù„ÙØ³Ø­Ø© (10:30 - 10:55)', fillColor: COLORS.silk, alignment: 'center', fontSize: 9}],
                                            [{text: '10:55 - 11:35', style: 'timeSlot'}],
                                            [{text: '11:40 - 12:20', style: 'timeSlot'}],
                                            [{text: '12:25 - 01:05', style: 'timeSlot'}],
                                            [{text: '01:10 - 01:50', style: 'timeSlot'}]
                                        ]
                                    },
                                    layout: 'lightHorizontalLines'
                                },
                                { text: "Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©", style: 'secTitle', margin: [0, 20, 0, 5] },
                                { table: { widths: ['*', '30%'], body: [['Ø§Ù„Ø¨Ù†Ø¯', 'Ø§Ù„Ù…Ø¨Ù„Øº'], [' ', ' '], [' ', ' ']] } }
                            ]
                        },
                        // Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠØ³Ø±: Ø§Ù„Ù…Ù‡Ø§Ù… ÙˆØ§Ù„ØªØ­Ø¶ÙŠØ±
                        {
                            width: '65%',
                            margin: [20, 0, 0, 0],
                            stack: [
                                { text: "Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø¹Ù…Ù„ ÙˆØ§Ù„ØªØ­Ø¶ÙŠØ±", style: 'secTitle' },
                                ...Array(5).fill(0).map(() => ({
                                    margin: [0, 0, 0, 8],
                                    canvas: [{ type: 'rect', x: 0, y: 0, w: 320, h: 50, r: 4, lineColor: COLORS.lines }]
                                })),
                                { text: "Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø´Ø®ØµÙŠØ©", style: 'secTitle', margin: [0, 10, 0, 5] },
                                {
                                    table: {
                                        widths: [15, '*'],
                                        body: Array(6).fill(0).map(() => [{text: ' ', border: [true,true,true,true]}, {text: ' ', border: [false,false,false,true]}])
                                    }
                                }
                            ]
                        }
                    ]
                }
            ],
            pageBreak: 'after'
        };
    }

    document.getElementById('btnProcess').onclick = function() {
        if (!fontBase64) return alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§Ø±ÙØ¹ Ù…Ù„Ù Ø§Ù„Ø®Ø· Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø¶Ù…Ø§Ù† Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ù„Ù");
        
        pdfMake.vfs = { 'MyFont.ttf': fontBase64 };
        pdfMake.fonts = { MyFont: { normal: 'MyFont.ttf', bold: 'MyFont.ttf' } };

        let content = [
            // Ø§Ù„ØºÙ„Ø§Ù Ø§Ù„Ù…Ù„ÙƒÙŠ
            {
                id: 'cover',
                stack: [
                    { text: "MYH", fontSize: 80, color: COLORS.gold, bold: true, margin: [0, 100, 0, 10] },
                    { text: "Ø§Ù„Ø¨Ù„Ø§Ù†Ø± Ø§Ù„Ø±Ù‚Ù…ÙŠ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ", fontSize: 25, color: 'white' },
                    { text: "2026", fontSize: 40, color: COLORS.gold, bold: true },
                    { text: "Mr. Mo. Yasin", fontSize: 22, color: 'white', italics: true, margin: [0, 60] }
                ],
                alignment: 'center', fillColor: COLORS.royal, pageBreak: 'after'
            },
            // Ø§Ù„ÙÙ‡Ø±Ø³ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ
            {
                id: 'main-index',
                stack: [
                    { text: "Ø§Ù„ÙÙ‡Ø±Ø³ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ", style: 'headerStyle' },
                    {
                        columns: [
                            { stack: [
                                { text: "ÙŠÙ†Ø§ÙŠØ±", linkToDestination: 'day-2026-01-01', style: 'monthBtn' },
                                { text: "ÙØ¨Ø±Ø§ÙŠØ±", linkToDestination: 'day-2026-02-01', style: 'monthBtn' },
                                { text: "Ù…Ø§Ø±Ø³", linkToDestination: 'day-2026-03-01', style: 'monthBtn' }
                            ]},
                            { stack: [
                                { text: "Ø£Ø¨Ø±ÙŠÙ„", linkToDestination: 'day-2026-04-01', style: 'monthBtn' },
                                { text: "Ù…Ø§ÙŠÙˆ", linkToDestination: 'day-2026-05-01', style: 'monthBtn' },
                                { text: "ÙŠÙˆÙ†ÙŠÙˆ", linkToDestination: 'day-2026-06-01', style: 'monthBtn' },
                                { text: "ÙŠÙˆÙ„ÙŠÙˆ", linkToDestination: 'day-2026-07-01', style: 'monthBtn' }
                            ]}
                        ],
                        columnGap: 20, margin: [0, 40]
                    }
                ],
                pageBreak: 'after'
            }
        ];

        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£ÙŠØ§Ù… Ù…Ù† 1 ÙŠÙ†Ø§ÙŠØ± Ø¥Ù„Ù‰ 31 ÙŠÙˆÙ„ÙŠÙˆ
        let startDate = new Date(2026, 0, 1);
        let endDate = new Date(2026, 6, 31);
        for (let d = new Date(startDate); d <= endDate; d.setDate(d.getDate() + 1)) {
            content.push(createDailyPage(new Date(d)));
        }

        const docDefinition = {
            pageSize: { width: 595, height: 842 }, // Standard A4 for iPad scaling
            defaultStyle: { font: 'MyFont', alignment: 'right' },
            styles: {
                signature: { fontSize: 22, italics: true, alignment: 'right' },
                dateStyle: { fontSize: 14, bold: true, color: COLORS.royal, alignment: 'center' },
                headerStyle: { fontSize: 30, bold: true, color: COLORS.royal, alignment: 'center', margin: [0, 20] },
                secTitle: { fontSize: 12, bold: true, color: COLORS.royal, margin: [0, 10] },
                timeSlot: { fontSize: 11, padding: 5 },
                monthBtn: { fontSize: 18, color: COLORS.royal, margin: [0, 10], decoration: 'underline' },
                backLink: { fontSize: 9, color: 'blue', alignment: 'left' }
            },
            content: content
        };

        pdfMake.createPdf(docDefinition).download('MYH_Full_Planner_2026.pdf');
    };
</script>
</body>
</html>
