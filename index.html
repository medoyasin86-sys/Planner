<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>سجل الفنون التشكيلية 2026 - الإصدار المالي والمهام</title>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@400;700;900&family=Mrs+Saint+Delafield&display=swap" rel="stylesheet">
    <style>
        :root {
            --vintage-paper: #fdfaf3;
            --royal-navy: #1a2e44;
            --antique-gold: #9d7e3d;
            --deep-ruby: #631d1d;
            --line-tan: #e5dcc5;
            --salary-green: #2d5a27;
            --weekend-bg: #f0f2f5;
        }

        @media print {
            .no-print { display: none !important; }
            body { background: white !important; padding: 0 !important; }
            .spread-container, .finance-page { page-break-after: always !important; display: flex !important; border:none !important; }
            @page { size: A4 landscape; margin: 0; }
        }

        body { background: #334155; font-family: 'Amiri', serif; margin: 0; padding: 20px; scroll-behavior: smooth; }
        .dashboard { max-width: 700px; margin: 0 auto 30px; background: white; padding: 25px; border-radius: 15px; text-align: center; border: 4px double var(--antique-gold); }
        .btn-premium { background: var(--royal-navy); color: #fff; border: 2px solid var(--antique-gold); padding: 15px 50px; cursor: pointer; font-family: 'Cairo'; font-weight: 700; border-radius: 8px; font-size: 18px; }
        
        .spread-container { display: flex; justify-content: center; gap: 0; margin-bottom: 40px; }
        .page-container {
            width: 148.5mm; height: 210mm; background: var(--vintage-paper); 
            padding: 8mm; box-sizing: border-box; display: flex; flex-direction: column; 
            position: relative; border: 1px solid #d1c7a7;
        }

        .page-right { border-radius: 5px 0 0 5px; border-left: 1px solid #ccc; }
        .page-left { border-radius: 0 5px 5px 0; border-right: 2px solid #999; }

        header { display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--antique-gold); margin-bottom: 10px; }
        .initials-logo { font-family: 'Mrs Saint Delafield', cursive; font-size: 35px; color: var(--antique-gold); border: 2px solid var(--antique-gold); width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; border-radius: 50%; background: var(--royal-navy); }
        
        .date-badge { text-align: center; background: white; border: 2px solid var(--royal-navy); border-radius: 8px; min-width: 70px; }
        .date-month { background: var(--deep-ruby); color: white; font-size: 11px; padding: 2px; }
        .date-day { font-size: 28px; font-weight: 900; color: var(--royal-navy); line-height: 1; }

        .section-header { background: var(--royal-navy); color: var(--antique-gold); padding: 4px 10px; font-family: 'Cairo'; font-size: 12px; font-weight: bold; border-right: 5px solid var(--antique-gold); margin: 8px 0; }
        
        .horizontal-schedule, .finance-table { width: 100%; border-collapse: collapse; }
        .horizontal-schedule th, .finance-table th { background: var(--royal-navy); color: white; font-size: 10px; border: 1px solid var(--antique-gold); padding: 5px; }
        .horizontal-schedule td, .finance-table td { border: 1px solid var(--antique-gold); height: 25px; background: white; text-align: center; font-size: 12px; }

        .split-grid { display: grid; grid-template-columns: 50px 1fr; gap: 15px; flex: 1; margin-top: 5px; }
        .checkbox-column { display: flex; flex-direction: column; border-left: 1px dashed var(--antique-gold); padding-left: 5px; }
        .check-item { height: 28px; display: flex; align-items: center; justify-content: center; border-bottom: 1px solid #eee; }
        .check-box { width: 16px; height: 16px; border: 1px solid var(--royal-navy); border-radius: 3px; }

        .notes-area { flex: 1; background: white; border: 1px solid #d1c7a7; padding: 5px; position: relative; }
        .lines { background-image: repeating-linear-gradient(transparent, transparent 27px, var(--line-tan) 28px); line-height: 28px; height: 100%; }

        .mini-cal-container { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; margin-top: 10px; }
        .mini-month { border: 1px solid var(--antique-gold); background: white; font-size: 8px; text-align: center; }
        .mini-month-title { background: var(--royal-navy); color: var(--antique-gold); padding: 2px; font-size: 9px; font-weight: bold; }
        
        .day-event { background: var(--deep-ruby) !important; color: white !important; }
        .day-salary { background: var(--salary-green) !important; color: white !important; }
        .day-weekend { background: var(--weekend-bg); color: #999; }
        .day-link { text-decoration: none; color: inherit; display: block; }

        .signature-fluid { font-family: 'Mrs Saint Delafield', cursive; font-size: 42px; color: var(--royal-navy); opacity: 0.7; font-weight: normal; }
        footer { border-top: 1px solid var(--antique-gold); padding-top: 5px; margin-top: auto; font-size: 10px; display: flex; justify-content: space-between; align-items: center; }
        
        /* تنسيق التقويم المالي المصغر */
        .finance-mini-cal { width: 140px; align-self: flex-start; margin-bottom: 10px; border: 2px solid var(--antique-gold); box-shadow: 3px 3px 0px var(--line-tan); }
    </style>
</head>
<body>

    <div class="dashboard no-print">
        <h2 style="font-family:'Cairo'; color:var(--royal-navy)">سجل الفنون التشكيلية المطور 2026</h2>
        <p>التحضير اليومي + الملف المالي الأسبوعي (يناير - يوليو)</p>
        <button class="btn-premium" onclick="generate()">توليد السجل الكامل</button>
    </div>

    <div id="print-area"></div>

    <script>
        const events = {
            "2026-01-11": "تولي السلطان هيثم", "2026-01-15": "الإسراء والمعراج",
            "2026-02-01": "بداية الفصل 2", "2026-02-24": "يوم المعلم العماني",
            "2026-02-18": "بداية رمضان", "2026-03-20": "عيد الفطر",
            "2026-07-01": "إجازة الكادر"
        };

        const monthNames = ["يناير", "فبراير", "مارس", "أبريل", "مايو", "يونيو", "يوليو"];

        function getSalaryDay(m) {
            let d = new Date(2026, m, 23);
            return (d.getDay() === 5 || d.getDay() === 6) ? 21 : 23;
        }

        function buildMiniCal(m, isFinance = false) {
            let html = `<div class="mini-month ${isFinance ? 'finance-mini-cal' : ''}"><div class="mini-month-title">${monthNames[m]} 2026</div><table style="width:100%; border-collapse:collapse;"><tr>`;
            ['ح','ن','ث','ر','خ','ج','س'].forEach(d => html += `<td style="font-weight:bold; font-size:7px; padding:2px">${d}</td>`);
            html += `</tr>`;
            let days = new Date(2026, m + 1, 0).getDate();
            let first = new Date(2026, m, 1).getDay();
            let day = 1;
            for(let i=0; i<6; i++) {
                html += `<tr>`;
                for(let j=0; j<7; j++) {
                    if((i===0 && j < first) || day > days) html += `<td></td>`;
                    else {
                        let fD = `2026-${String(m+1).padStart(2,'0')}-${String(day).padStart(2,'0')}`;
                        let cls = (j >= 5) ? "day-weekend" : "";
                        if(events[fD]) cls += " day-event";
                        if(day === getSalaryDay(m)) cls += " day-salary";
                        html += `<td class="${cls}"><a href="#page-${fD}" class="day-link" style="padding:2px">${day}</a></td>`;
                        day++;
                    }
                }
                html += `</tr>`; if(day > days) break;
            }
            return html + `</table></div>`;
        }

        function generate() {
            const area = document.getElementById('print-area');
            let output = '';
            
            for (let m = 0; m <= 6; m++) {
                let d = new Date(2026, m, 1);
                let lastDay = new Date(2026, m + 1, 0).getDate();
                
                // أولاً: صفحات التحضير (أيام العمل)
                for (let day = 1; day <= lastDay; day++) {
                    d.setDate(day);
                    if (d.getDay() !== 5 && d.getDay() !== 6) {
                        const dateKey = `2026-${String(m+1).padStart(2,'0')}-${String(day).padStart(2,'0')}`;
                        output += `
                        <div class="spread-container" id="page-${dateKey}">
                            <div class="page-container page-right">
                                <header>
                                    <div style="display:flex; align-items:center; gap:8px">
                                        <div class="initials-logo">MYH</div>
                                        <div style="font-family:'Cairo'; font-size:14px; font-weight:900; color:var(--royal-navy)">محمد ياسين حلمي</div>
                                    </div>
                                    <div class="date-badge">
                                        <div class="date-month">${monthNames[m]}</div>
                                        <div class="date-day">${day}</div>
                                    </div>
                                </header>
                                <table class="horizontal-schedule" style="margin-top:10px">
                                    <thead><tr><th>الحصة</th>${[1,2,3,4,5,6,7,8].map(n => `<th>${n}</th>`).join('')}</tr></thead>
                                    <tbody><tr><td>الصف</td>${Array(8).fill('<td></td>').join('')}</tr></tbody>
                                </table>
                                <div class="section-header">مساحة التحضير الذهني والإبداعي</div>
                                <div class="notes-area"><div class="lines"></div></div>
                                <div class="mini-cal-container">${[0,1,2].map(mm => buildMiniCal(mm)).join('')}</div>
                                <footer><span>${events[dateKey] || "يوم عمل اعتيادي"}</span><div class="signature-fluid">Mo.Yasin</div></footer>
                            </div>
                            <div class="page-container page-left">
                                <div class="section-header" style="background:var(--deep-ruby)">المهام اليومية & الملاحظات الحرة</div>
                                <div class="split-grid">
                                    <div class="checkbox-column">${Array(16).fill('<div class="check-item"><div class="check-box"></div></div>').join('')}</div>
                                    <div class="notes-area"><div class="lines"></div></div>
                                </div>
                                <div class="section-header">توجيهات إدارية / فنية</div>
                                <div style="height:70px; border:1px solid #d1c7a7; background:white; border-radius:4px"></div>
                                <div class="mini-cal-container">${[3,4,5].map(mm => buildMiniCal(mm)).join('')}</div>
                                <footer><span>الفنون التشكيلية 2026</span><div style="text-align:left">الراتب المتوقع: ${getSalaryDay(m)} ${monthNames[m]}</div></footer>
                            </div>
                        </div>`;
                    }
                }

                // ثانياً: صفحات الملف المالي (بعد كل شهر)
                for (let w = 1; w <= 4; w++) {
                    output += `
                    <div class="spread-container finance-page">
                        <div class="page-container page-right">
                            <div class="section-header" style="background:var(--salary-green)">الملف المالي - ${monthNames[m]} (أسبوع ${w})</div>
                            <table class="finance-table">
                                <thead><tr><th width="15%">التاريخ</th><th>البند / البيان</th><th width="15%">دخل</th><th width="15%">صرف</th><th width="15%">صافي</th></tr></thead>
                                <tbody>${Array(13).fill('<tr><td></td><td></td><td></td><td></td><td></td></tr>').join('')}</tbody>
                            </table>
                            <div class="section-header">ملخص التدفق النقدي للأسبوع</div>
                            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-top:5px">
                                <div style="border:1px solid var(--antique-gold); padding:8px; background:#fff; font-size:12px">إجمالي المحصلة:</div>
                                <div style="border:1px solid var(--antique-gold); padding:8px; background:#fff; font-size:12px">إجمالي المصروفات:</div>
                                <div style="border:2px solid var(--salary-green); padding:8px; background:#f0fff0; color:var(--salary-green); font-weight:bold; grid-column: span 2; text-align:center">صافي الرصيد النهائي</div>
                            </div>
                        </div>
                        <div class="page-container page-left">
                            <div class="section-header">تقويم المتابعة والارتباطات</div>
                            <div style="display:flex; flex-direction:column; align-items:center; gap:15px; flex:1; justify-content:center">
                                ${buildMiniCal(m, true)}
                                <div class="notes-area" style="width:100%;"><div class="lines" style="background-image: repeating-linear-gradient(transparent, transparent 30px, var(--line-tan) 31px);"></div></div>
                            </div>
                            <footer><span>سجل مالي أسبوعي</span><div class="signature-fluid">Mo.Yasin</div></footer>
                        </div>
                    </div>`;
                }
            }
            area.innerHTML = output;
        }
    </script>
</body>
</html>
