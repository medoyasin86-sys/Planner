<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<title>مخطط محمد ياسين حلمي — 2026</title>

<!-- خط القاهرة -->
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<style>
/* ===================================================================
   الأساسيات
   =================================================================== */
:root{
  --ruby:#9B1C31; 
  --navy:#0B1A39; 
  --emerald:#0F7A5F;
  --paper:#F3EAD7;
  --ink:#2f2a25; 
  --line:#e1d6c2; 
  --accent:#9a8364;
  --shadow: rgba(0,0,0,.12);
  --font:'Cairo',sans-serif;
}

html,body{
  margin:0;
  background:#efe9da;
  color:var(--ink);
  font-family:var(--font);
  -webkit-font-smoothing:antialiased;
}

/* ===================================================================
   خلفية الورق العتيق
   =================================================================== */
body::before{
  content:""; 
  position:fixed; 
  inset:0; 
  z-index:-1;
  background:
    radial-gradient(1200px 800px at 20% 0%, rgba(0,0,0,.06), transparent 60%),
    radial-gradient(900px 700px at 80% 100%, rgba(0,0,0,.05), transparent 60%),
    linear-gradient(0deg, rgba(255,255,255,.2), rgba(255,255,255,0)),
    repeating-linear-gradient(90deg, rgba(0,0,0,.03), rgba(0,0,0,.03) 1px, transparent 1px, transparent 4px);
}

/* ===================================================================
   تنسيق التخطيط العام
   =================================================================== */
.planner{
  max-width:1800px;
  margin:0 auto;
  padding:20px;
  display:flex;
  gap:14px;
  perspective:1800px;
}

/* ===================================================================
   الصفحة اليمنى واليسرى
   =================================================================== */
.page{
  flex:1;
  min-height:920px;
  background:var(--paper);
  border-radius:20px;
  position:relative;
  overflow:hidden;
  box-shadow:0 10px 28px var(--shadow), inset 0 0 0 1px rgba(0,0,0,.06);
}

.page.right{ transform:rotateY(-1.8deg); }
.page.left{  transform:rotateY(1.8deg); }

/* ===================================================================
   السلك الحلزوني الواقعي
   =================================================================== */
.spiral{
  width:78px;
  display:flex;
  justify-content:center;
  align-items:center;
}

.coil{
  width:22px;
  height:100%;
  background:
    repeating-linear-gradient(
      to bottom,
      #444 0px,
      #444 7px,
      #ccc 7px,
      #ccc 15px
    );
  border-radius:12px;
  box-shadow: inset 3px 0 4px rgba(0,0,0,.55);
}

/* ===================================================================
   الترويسة
   =================================================================== */
.header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:16px 18px;
  border-bottom:1px solid rgba(0,0,0,.08);
}
.logo{
  font-weight:700;
  color:#7f7466;
  letter-spacing:3px;
}
.htitle{ font-size:1.1em; font-weight:700 }
.hsub{   font-size:.9em; color:#6d6358 }

/* ===================================================================
   التبويبات الرئيسية
   =================================================================== */
.tabs{
  display:flex;
  gap:8px;
  padding:10px 12px;
}
.tab{
  background:#efe4ce;
  border:1px solid #decfb6;
  border-radius:10px;
  padding:6px 10px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:6px;
  font-size:.9em;
  text-decoration:none;
  color:#453a2f;
}
.tab:hover{ filter:brightness(1.03); }
.tab.ruby{ background:#caa3a8; color:#2d1a1f }
.tab.navy{ background:#c7cbd5; color:#111a2e }
.tab.emerald{ background:#c7d7d2; color:#0a3e34 }
.tab.marmo{ background:#e6dcc7 }

/* ===================================================================
   تبويبات جانبية للشهور (الصفحة اليمنى)
   =================================================================== */
.side-months{
  position:absolute;
  top:130px;
  right:-35px;
  display:flex;
  flex-direction:column;
  gap:6px;
  z-index:10;
}
.side-months a{
  writing-mode:vertical-rl;
  padding:6px 4px;
  background:#e6dcc7;
  border:1px solid #d3c4a8;
  border-radius:8px;
  color:#3c3329;
  font-size:.82em;
  text-align:center;
  text-decoration:none;
}
.side-months a:hover{
  background:#d8c7a8;
}

/* ===================================================================
   المحتوى
   =================================================================== */
.content{ padding:12px; display:flex; flex-direction:column; gap:12px }
.section{
  background:rgba(255,255,255,.45);
  border:1px solid rgba(0,0,0,.08);
  border-radius:14px;
}
.sec-h{
  padding:10px 12px;
  background:#f1e7d2;
  font-weight:700;
  border-bottom:1px solid rgba(0,0,0,.08);
}

/* ===================================================================
   التقويم المصغّر
   =================================================================== */
.months{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  padding:10px;
}
.mini{
  background:#fff8ea;
  border:1px solid #e6d8bf;
  border-radius:12px;
  overflow:hidden;
}
.mini .mh{
  background:#efe2c7;
  padding:8px;
  font-weight:700;
  border-bottom:1px solid #e0d2b6;
  text-align:center;
}
.mini table{
  width:100%;
  border-collapse:collapse;
  table-layout:fixed;
}
.mini th,.mini td{
  text-align:center;
  height:32px;
  border-bottom:1px solid #f3e7d4;
}
.mini td.empty{ background:#f7f0e2; color:#c7b7a2 }
.mini td.weekend{ background:#fcf6ea; color:#8a7458 }
.mini td.salary{ background:var(--ruby)!important; color:#fff!important; border-radius:6px; }
.mini td.event-official{ background:var(--emerald); color:#fff; border-radius:6px }
.mini td.event-religious{ background:var(--navy); color:#fff; border-radius:6px }
.mini td.event-school{ background:#9a8364; color:#fff; border-radius:6px }

/* ===================================================================
   سطر مسطرة
   =================================================================== */
.ruled{
  background-image:
    linear-gradient(to bottom, transparent calc(100% - 1px), var(--line) calc(100% - 1px));
  background-size:100% 34px;
  min-height:200px;
}

/* ===================================================================
   مربعات التحضير
   =================================================================== */
.prep-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}
.prep-box{
  background:#fffdf5;
  border:1px solid #eadfca;
  border-radius:12px;
  min-height:120px;
  position:relative;
}
.prep-box::before{
  content:"";
  position:absolute;
  inset:0;
  background-image:linear-gradient(to bottom, transparent 34px, var(--line) 35px);
  background-size:100% 34px;
  opacity:.9;
}

/* ===================================================================
   قائمة المهام
   =================================================================== */
.checklist{
  padding:10px;
}
.item{
  display:flex;
  gap:10px;
  align-items:center;
  height:34px;
  border-bottom:1px solid var(--line);
}
.item input{
  transform:scale(1.2);
  accent-color:var(--ruby);
}

/* ===================================================================
   جدول المصاريف الجديد
   =================================================================== */
.simple-ledger{
  width:100%;
  border:1px solid #d8c9ae;
  border-radius:12px;
}
.simple-ledger th{
  background:#efe2c7;
  padding:10px;
  border-bottom:1px solid #d8c9ae;
}
.simple-ledger td{
  height:34px;
  background:#fffdf5;
  border-bottom:1px solid #e6dcc3;
  padding:6px;
}

/* ===================================================================
   جدول الحصص
   =================================================================== */
.teacher-periods{
  position:absolute;
  top:120px;
  left:12px;
  width:145px;
}
.period-table{
  width:100%;
  border:1px solid #d8c9ae;
  border-radius:12px;
  background:#faf4e6;
}
.period-table th{
  background:#efe2c7;
  padding:6px;
}
.period-table td{
  border-bottom:1px solid #e6dcc3;
  height:30px;
  padding:4px;
}

/* ===================================================================
   استجابة الشاشات
   =================================================================== */
@media(max-width:1200px){
  .planner{ flex-direction:column }
  .spiral{ height:80px; width:100%; }
}
</style>
</head>

<body>

<!-- ===================================================================
     تخطيط الصفحتين مع السلك الحلزوني
     =================================================================== -->
<div class="planner">

  <!-- ===================== الصفحة اليمنى ===================== -->
  <div class="page right" id="rightPage">

    <!-- تبويبات جانبية للشهور -->
    <div class="side-months">
      <a href="#m1">يناير</a>
      <a href="#m2">فبراير</a>
      <a href="#m3">مارس</a>
    </div>

    <div class="header">
      <div class="logo">MYH</div>
      <div>
        <div class="htitle">صفحة الحياة اليومية</div>
        <div class="hsub">أ/ محمد ياسين حلمي — مخطط 2026</div>
      </div>
    </div>

    <div class="tabs" id="rightTabs">
      <a class="tab ruby" data-target="todaySection"><i class="fa fa-calendar-day"></i>اليوم</a>
      <a class="tab navy" data-target="notesSection"><i class="fa fa-pen"></i>ملاحظات</a>
      <a class="tab emerald" data-target="tasksSection"><i class="fa fa-list-check"></i>مهام</a>
    </div>

    <div class="content">

      <!-- تقاويم -->
      <div class="section">
        <div class="sec-h">يناير - مارس 2026</div>
        <div class="months" id="monthsRight"></div>
      </div>

      <!-- اليوم -->
      <div class="section" id="todaySection">
        <div class="sec-h" id="todayHead">
          <i class="fa fa-calendar"></i> اليوم — (اختر تاريخًا)
        </div>

        <div style="padding:10px">
          <div class="prep-grid">
            <div class="prep-box"></div><div class="prep-box"></div>
            <div class="prep-box"></div><div class="prep-box"></div>
            <div class="prep-box"></div><div class="prep-box"></div>
            <div class="prep-box"></div><div class="prep-box"></div>
          </div>

          <div class="ruled"></div>

          <div id="eventBarRight" style="margin-top:10px; padding:10px; background:#f7efdf; border:1px solid #eadfca; border-radius:10px; display:none"></div>
        </div>
      </div>

      <!-- ملاحظات -->
      <div class="section" id="notesSection" style="display:none">
        <div class="sec-h">ملاحظات</div>
        <div class="ruled"></div>
      </div>

      <!-- مهام -->
      <div class="section" id="tasksSection" style="display:none">
        <div class="sec-h">مهام اليوم</div>
        <div class="checklist" id="personalTasks"></div>
        <div style="padding:10px">
          <button onclick="addItem(personalTasks)" class="tab marmo">+ إضافة</button>
          <button onclick="personalTasks.innerHTML=''" class="tab marmo">مسح</button>
        </div>
      </div>

    </div>
  </div>

  <!-- ===================== السلك الحلزوني ===================== -->
  <div class="spiral"><div class="coil"></div></div>

  <!-- ===================== الصفحة اليسرى ===================== -->
  <div class="page left" id="leftPage">

    <!-- جدول الحصص -->
    <div class="teacher-periods">
      <table class="period-table">
        <thead><tr><th>الحصة</th><th>الصف</th></tr></thead>
        <tbody>
          <tr><td>1</td><td></td></tr>
          <tr><td>2</td><td></td></tr>
          <tr><td>3</td><td></td></tr>
          <tr><td>4</td><td></td></tr>
          <tr><td>5</td><td></td></tr>
          <tr><td>6</td><td></td></tr>
          <tr><td>7</td><td></td></tr>
          <tr><td>8</td><td></td></tr>
        </tbody>
      </table>
    </div>

    <div class="header">
      <div class="logo">MYH</div>
      <div>
        <div class="htitle">مركز المعلم الاحترافي</div>
        <div class="hsub">مخطط المعلم — 2026</div>
      </div>
    </div>

    <div class="tabs" id="leftTabs">
      <a class="tab navy" data-target="prepSection"><i class="fa fa-palette"></i>التحضير</a>
      <a class="tab emerald" data-target="proTasksSection"><i class="fa fa-check"></i>المهام</a>
      <a class="tab marmo" data-target="expensesSection"><i class="fa fa-wallet"></i>المصاريف</a>
    </div>

    <div class="content">

      <!-- تقاويم -->
      <div class="section">
        <div class="sec-h">أبريل - يونيو 2026</div>
        <div class="months" id="monthsLeft"></div>
      </div>

      <!-- التحضير -->
      <div class="section" id="prepSection">
        <div class="sec-h">التحضير اليومي</div>
        <div class="prep-grid" style="padding:10px">
          <div class="prep-box"></div><div class="prep-box"></div>
          <div class="prep-box"></div><div class="prep-box"></div>
          <div class="prep-box"></div><div class="prep-box"></div>
          <div class="prep-box"></div><div class="prep-box"></div>
        </div>
      </div>

      <!-- مهام مهنية -->
      <div class="section" id="proTasksSection" style="display:none">
        <div class="sec-h">المهام المهنية</div>
        <div class="checklist" id="proTasks"></div>
        <div style="padding:10px">
          <button onclick="addItem(proTasks)" class="tab marmo">+ إضافة</button>
          <button onclick="proTasks.innerHTML=''" class="tab marmo">مسح</button>
        </div>
      </div>

      <!-- المصاريف -->
      <div class="section" id="expensesSection" style="display:none">
        <div class="sec-h">المصاريف</div>
        <div id="ledgerWrap" style="padding:10px"></div>
      </div>

      <div id="eventBarLeft" style="margin-top:10px; padding:10px; background:#f7efdf; border:1px solid #eadfca; border-radius:10px; display:none"></div>

    </div>
  </div>
</div>

<script>
/* ===================================================================
   نطاق التواريخ
   =================================================================== */
const START = new Date(2026,0,25);
const END   = new Date(2026,5,30);

function inRange(d){ return d>=START && d<=END; }
function ymd(y,m,d){ return `${y}-${String(m+1).padStart(2,'0')}-${String(d).padStart(2,'0')}`; }

/* ===================================================================
   تعديل راتب (23 بشرط الجمعة/السبت)
   =================================================================== */
function salaryDay(y,m){
  const d=new Date(y,m,23);
  const w=d.getDay();
  return (w===5||w===6)?21:23;
}

/* ===================================================================
   مناسبات 2026 بعد التعديل
   =================================================================== */
const events = {
  "2026-01-01": {title:"رأس السنة الميلادية", type:"official"},

  /* رمضان */
  "2026-02-18": {title:"بداية رمضان", type:"religious"},

  /* عيد الفطر حسب التعديل */
  "2026-03-19": {title:"عيد الفطر", type:"official"},
  "2026-03-20": {title:"إجازة عيد الفطر", type:"official"},

  /* عيد الأضحى */
  "2026-05-27": {title:"وقفة عرفة", type:"religious"},
  "2026-05-28": {title:"عيد الأضحى", type:"official"},
  "2026-05-29": {title:"إجازة عيد الأضحى", type:"official"},

  /* مناسبات إضافية */
  "2026-11-18": {title:"العيد الوطني العماني", type:"official"}
};

/* ===================================================================
   بناء التقويم
   =================================================================== */
function buildMonth(y,m){
  const wrap=document.createElement('div'); wrap.className='mini';
  const head=document.createElement('div'); head.className='mh'; head.textContent=`${["يناير","فبراير","مارس","أبريل","مايو","يونيو"][m]} ${y}`;
  const table=document.createElement('table');

  const trh=document.createElement('tr');
  ["أحد","اثن","ثلا","أرب","خمي","جمع","سبت"].forEach((txt, i)=>{
    const th=document.createElement('th');
    th.textContent=txt;
    if(i===5||i===6) th.classList.add('weekend');
    trh.appendChild(th);
  });

  table.appendChild(trh);

  const first=new Date(y,m,1);
  const last=new Date(y,m+1,0);
  let dow=first.getDay();
  let tr=document.createElement('tr');

  for(let i=0;i<dow;i++){
    const td=document.createElement('td'); 
    td.className='empty';
    tr.appendChild(td);
  }

  const sDay=salaryDay(y,m);

  for(let d=1; d<=last.getDate(); d++){
    if(dow===7){ table.appendChild(tr); tr=document.createElement('tr'); dow=0; }

    const td=document.createElement('td');
    td.textContent=d;

    const cur=new Date(y,m,d);
    const key=ymd(y,m,d);
    const w=cur.getDay();

    if(w===5||w===6) td.classList.add('weekend');

    if(!inRange(cur)){
      td.classList.add('empty');
      td.style.opacity=.45;
    } else {
      if(events[key]){
        const t=events[key].type;
        if(t==="official") td.classList.add('event-official');
        else if(t==="religious") td.classList.add('event-religious');
      }
      if(d===sDay) td.classList.add('salary');
      td.style.cursor='pointer';
      td.onclick=()=>openDay(y,m,d);
    }

    tr.appendChild(td);
    dow++;
  }

  if(dow>0 && dow<7){
    for(let i=dow;i<7;i++){
      const td=document.createElement('td'); td.className='empty';
      tr.appendChild(td);
    }
  }

  table.appendChild(tr);
  wrap.appendChild(head); wrap.appendChild(table);
  return wrap;
}

/* ===================================================================
   عرض التقويم
   =================================================================== */
function renderCalendars(){
  const right=document.getElementById('monthsRight');
  const left=document.getElementById('monthsLeft');

  right.innerHTML=''; left.innerHTML='';

  [0,1,2].forEach(m=> right.appendChild(buildMonth(2026,m)));
  [3,4,5].forEach(m=> left.appendChild(buildMonth(2026,m)));
}

/* ===================================================================
   فتح يوم
   =================================================================== */
function openDay(y,m,d){
  const dt=new Date(y,m,d);
  const dayName=dt.toLocaleDateString('ar-EG',{weekday:'long'});
  const dateStr=dt.toLocaleDateString('ar-EG',{year:'numeric',month:'long',day:'numeric'});
  document.getElementById('todayHead').innerHTML = `<i class='fa fa-calendar'></i> ${dayName} — ${dateStr}`;

  const key=ymd(y,m,d);
  const title = events[key]?events[key].title:"لا توجد مناسبة لهذا اليوم.";

  const ev1=document.getElementById('eventBarRight');
  const ev2=document.getElementById('eventBarLeft');
  ev1.textContent=title; ev1.style.display='block';
  ev2.textContent=title; ev2.style.display='block';
}

/* ===================================================================
   تبويبات
   =================================================================== */
function setupTabs(id){
  const cont=document.getElementById(id);
  cont.addEventListener('click', e=>{
    const tab=e.target.closest('.tab');
    if(!tab) return;
    const page=cont.closest('.page');
    const target=tab.getAttribute('data-target');

    page.querySelectorAll('.section').forEach(sec=>{
      sec.style.display = sec.id===target? "block":"none";
    });
  });
}

/* ===================================================================
   المهام
   =================================================================== */
function addItem(container){
  const div=document.createElement('div');
  div.className='item';
  const cb=document.createElement('input'); cb.type='checkbox';
  const cell=document.createElement('div'); cell.style.flex='1';
  div.appendChild(cb); div.appendChild(cell);
  container.appendChild(div);
}

/* ===================================================================
   المصاريف
   =================================================================== */
function renderLedger(){
  const wrap=document.getElementById('ledgerWrap');
  wrap.innerHTML='';

  const table=document.createElement('table');
  table.className='simple-ledger';

  table.innerHTML=`
    <thead>
      <tr>
        <th>اليوم</th>
        <th>التاريخ</th>
        <th>البيان</th>
        <th>دخل</th>
        <th>صرف</th>
        <th>الرصيد</th>
      </tr>
    </thead>
    <tbody></tbody>
  `;

  const tb=table.querySelector('tbody');
  for(let r=0;r<12;r++){
    const tr=document.createElement('tr');
    tr.innerHTML="<td></td><td></td><td></td><td></td><td></td><td></td>";
    tb.appendChild(tr);
  }

  wrap.appendChild(table);
}

/* ===================================================================
   Init
   =================================================================== */
document.addEventListener('DOMContentLoaded',()=>{

  setupTabs('rightTabs');
  setupTabs('leftTabs');

  // مهام افتراضية
  window.personalTasks=document.getElementById('personalTasks');
  window.proTasks=document.getElementById('proTasks');

  for(let i=0;i<10;i++) addItem(personalTasks);
  for(let i=0;i<8;i++) addItem(proTasks);

  renderCalendars();
  renderLedger();
});
</script>

</body>
</html>
